<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Pig Game</title>
    </head>
    <body>
        <div id="content"></div>
        
        <script src="jquery.js" type="text/javascript"></script>
        <script src="underscore.js" type="text/javascript"></script>
        <script src="backbone.js" type="text/javascript"></script>
        <script src="backbone.localStorage.js" type="text/javascript"></script>
		<script type="text/template" id="die-template">
			You rolled <%= roll %>!
		</script>
        <script type="text/javascript">
        	var dieView = Backbone.View.extend({
        		el: $("#content"),
        		
        		//template: _.template($("#die-template").html()),
        		
        		render: function() {
        			this.model.rollDie();
        			this.$el.append(this.template(this.model.toJSON()));
        		},
        		
        		template: _.template($("#die-template").html())
        	});
        	
        	var dieModel = Backbone.Model.extend({
        		defaults: {
        			roll: ''
        		},
        		
        		rollDie : function() {
        			self = this;
        			self.set('roll', Math.floor((Math.random()*6)+1));//number between 1 and 6
        		}
        	});
        	
        	var myDie = new dieModel();
        	var myDieView = new dieView({model: myDie});
        	myDieView.render();
        
        </script>
    </body>
</html>
